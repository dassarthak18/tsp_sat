# An exact solution to TSP using SAT solving and TSP heuristics

A path-enumeration based approach with the help of z3 Theorem Prover in order to find an exact solution to the Travelling Salesman Problem (TSP), using as an upper bound an optimal solution as obtained from Christofides algorithm.

## Prerequisites

1. **Python 3.7 or higher.**
2. **TSPLIB95 and Networkx for Python3.** Can be installed using the terminal command

    ```shell
       pip3 install networkx tsplib95
       pip3 install --upgrade networkx
    ```
3. **z3 Theorem Prover.** Their [github repository](https://github.com/Z3Prover/z3) can be checked for instructions to install the theorem prover.
4. **z3py for Python3.** Can be installed using the terminal command

    ```shell
       pip3 install z3-solver
       pip3 install --upgrade z3-solver
    ```
5. **runlim for Debian/Ubuntu.** Can be installed using the terminal command

    ```shell
       sudo apt install runlim
    ```

## Source Code

A source code for the algorithm can be found in the ./src/ directory. First, one needs to install the prerequisites manually and run the following command in terminal.

```shell
git clone https://github.com/dassarthak18/tsp_sat.git
cd tsp_sat/src
sudo chmod u+x main.sh
```

Then, to run the tool on existing .tsp benchmarks (as found in the ./src/benchmarks/ directory, one must run the command

```shell
runlim -t 3600 ./main.sh v1 filename.tsp
```

Please note that other than a few standard .tsp benchmarks, the ./src/benchmarks/ directory also contains a set of complete graphs named from k3.tsp to k20.tsp. These are .tsp files manually generated by the author by extracting nodes from the existing a280.tsp benchmark graph.  

To run the tool on a manually loaded graph, one must run

```shell
runlim -r 3600 ./main.sh v2
```

The "runlim -r 3600" clause serves to measure the time and space performance of the tool and kill process if it fails to terminate within 3600 seconds. The timeout period can be suitably modified or the entire clause can be dropped if not needed.
